var dashboardPostEditor=function(t){var n={};function e(r){if(n[r]){return n[r].exports}var o=n[r]={i:r,l:false,exports:{}};t[r].call(o.exports,o,o.exports,e);o.l=true;return o.exports}e.m=t;e.c=n;e.d=function(t,n,r){if(!e.o(t,n)){Object.defineProperty(t,n,{configurable:false,enumerable:true,get:r})}};e.n=function(t){var n=t&&t.__esModule?function n(){return t["default"]}:function n(){return t};e.d(n,"a",n);return n};e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)};e.p="";return e(e.s=9)}([function(t,n){var e=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=e},function(t,n){var e=t.exports={version:"2.5.3"};if(typeof __e=="number")__e=e},function(t,n){t.exports=function(t){return typeof t==="object"?t!==null:typeof t==="function"}},function(t,n,e){t.exports=!e(4)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return true}}},function(t,n){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,n,e){var r=e(17);var o=e(5);t.exports=function(t){return r(o(t))}},function(t,n){var e=Math.ceil;var r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n){t.exports=window.tco},function(t,n,e){"use strict";var r=e(10);var o=d(r);var a=e(37);var i=d(a);var u=e(8);var c=d(u);var s=e(38);var f=d(s);function d(t){return t&&t.__esModule?t:{default:t}}var l=window.wp;(0,i.default)(function(){var t=window.csDashboardPostEditorData;function n(n){return t.strings[n]||""}var e=(0,i.default)("body");var r=(0,i.default)(t.editorTabMarkup);var a=(0,i.default)(t.editorTabContentMarkup);var u=(0,i.default)("#postdivrich");var s=(0,i.default)('<div style="display: inline-flex;align-items: center;"><button type="button"  class="components-button is-button is-default is-large">'+n("edit-with-wordpress")+"</button></div>");var d=(0,i.default)('<button type="button" data-cs-switch-button class="components-button is-primary is-button is-default is-large">'+n("edit-with-cornerstone")+"</button>");u.after(r);u.find(".wp-editor-tabs").append((0,i.default)('<button type="button" data-cs-switch-button id="content-cornerstone" class="wp-switch-editor switch-cornerstone">'+n("cornerstone-tab")+"</button>"));setTimeout(function(){return(0,i.default)("#editor .edit-post-header-toolbar").append(d)},1);function p(){u.hide();r.show();(0,i.default)("#editor .edit-post-visual-editor, #editor .edit-post-text-editor").first().after(a);e.addClass("cs-disable-gutenburg");(0,i.default)("#editor .edit-post-header-toolbar").before(s);d.detach();try{l.data.dispatch("core/edit-post").closeGeneralSidebar()}catch(t){}}r.find("#content-tmce, #content-html").click(function(){var t=-1!==(0,i.default)(this).attr("id").indexOf("html");v(function(){u.show();(0,i.default)(window).trigger("scroll.editor-expand","scroll");r.hide();window.switchEditors.go("content",t?"html":"tmco")})});s.on("click","button",function(t){v(function(){e.removeClass("cs-disable-gutenburg");s.detach();a.detach();(0,i.default)("#editor .edit-post-header-toolbar").show().append(d)})});function v(e){if("true"===t.usesCornerstone){c.default.confirm({message:n("manual-edit-warning"),acceptClass:"tco-btn-nope",acceptBtn:n("manual-edit-accept"),declineBtn:n("manual-edit-decline"),accept:function n(){if("new"!==t.post_id){l.ajax.post("cs_override",{post_id:t.post_id,_cs_nonce:t._cs_nonce})}t.usesCornerstone="false";e()}});return}e()}e.on("click keydown","[data-cs-switch-button]",function(){if("false"===t.usesCornerstone&&"new"!==t.post_id&&l.autosave&&""!==l.autosave.getPostData().content){c.default.confirm({message:n("overwrite-warning"),acceptClass:"tco-btn-nope",acceptBtn:n("overwrite-accept"),declineBtn:n("overwrite-decline"),accept:function n(){t.usesCornerstone="none";p()}});return}p()});if("true"===t.usesCornerstone)setTimeout(p,1);e.on("click","[data-cs-edit-button]",function(t){t.preventDefault();t.stopPropagation();if(h())return;if(b())return;var e=(0,i.default)("#post_ID").val();if(parseInt((0,i.default)("#auto_draft").val())){c.default.confirm({message:n("post-does-not-exist-warning"),acceptBtn:"",declineBtn:n("post-editor-back")})}else{w(e)}});var w=function n(e){return window.location=t.editURL.replace("{{post_id}}",e)};function h(){if(!window.wp.autosave||!window.wp.autosave.getPostData)return false;var t=window.wp.autosave.getPostData(),e=t.post_id,r=t.auto_draft;if(!e)return false;if(r){(0,i.default)("#title-prompt-text").hide();var o=(0,i.default)("#title");var a=o.val();if(!a||"title"===a)o.val(n("default-title"));l.autosave.server.triggerSave();(0,i.default)(document).on("heartbeat-tick.autosave",function(){var t=l.autosave.getPostData();(0,i.default)(window).off("beforeunload.edit-post");w(t.post_id)})}else{w(e)}return true}function b(){if(!window.wp.data||!window.wp.data.select)return false;try{var t=l.data.select("core/editor");var e=l.data.dispatch("core/editor");if(!t||!e)return false;var r=t.getCurrentPostId();if(!r)return false;var a={};if(t.isCleanNewPost())a.title=n("default-title");if("auto-draft"===t.getCurrentPostAttribute("status"))a.status="draft";if((0,o.default)(a).length>0){e.editPost(a);e.savePost()}var i=setInterval(function(){try{if(!t.isSavingPost()){clearInterval(i);w(r)}}catch(t){console.warn("Unable to launch Content Builder from Gutenburg",t);clearInterval(i)}},100)}catch(t){console.warn("Unable to launch Content Builder from Gutenburg",t)}return true}if(window.YoastSEO)setTimeout(f.default,0)})},function(t,n,e){t.exports={default:e(11),__esModule:true}},function(t,n,e){e(12);t.exports=e(1).Object.keys},function(t,n,e){var r=e(13);var o=e(14);e(26)("keys",function(){return function t(n){return o(r(n))}})},function(t,n,e){var r=e(5);t.exports=function(t){return Object(r(t))}},function(t,n,e){var r=e(15);var o=e(25);t.exports=Object.keys||function t(n){return r(n,o)}},function(t,n,e){var r=e(16);var o=e(6);var a=e(19)(false);var i=e(22)("IE_PROTO");t.exports=function(t,n){var e=o(t);var u=0;var c=[];var s;for(s in e)if(s!=i)r(e,s)&&c.push(s);while(n.length>u)if(r(e,s=n[u++])){~a(c,s)||c.push(s)}return c}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return r(t)=="String"?t.split(""):Object(t)}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(6);var o=e(20);var a=e(21);t.exports=function(t){return function(n,e,i){var u=r(n);var c=o(u.length);var s=a(i,c);var f;if(t&&e!=e)while(c>s){f=u[s++];if(f!=f)return true}else for(;c>s;s++)if(t||s in u){if(u[s]===e)return t||s||0}return!t&&-1}}},function(t,n,e){var r=e(7);var o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){var r=e(7);var o=Math.max;var a=Math.min;t.exports=function(t,n){t=r(t);return t<0?o(t+n,0):a(t,n)}},function(t,n,e){var r=e(23)("keys");var o=e(24);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(0);var o="__core-js_shared__";var a=r[o]||(r[o]={});t.exports=function(t){return a[t]||(a[t]={})}},function(t,n){var e=0;var r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++e+r).toString(36))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var r=e(27);var o=e(1);var a=e(4);t.exports=function(t,n){var e=(o.Object||{})[t]||Object[t];var i={};i[t]=n(e);r(r.S+r.F*a(function(){e(1)}),"Object",i)}},function(t,n,e){var r=e(0);var o=e(1);var a=e(28);var i=e(30);var u="prototype";var c=function(t,n,e){var s=t&c.F;var f=t&c.G;var d=t&c.S;var l=t&c.P;var p=t&c.B;var v=t&c.W;var w=f?o:o[n]||(o[n]={});var h=w[u];var b=f?r:d?r[n]:(r[n]||{})[u];var y,g,_;if(f)e=n;for(y in e){g=!s&&b&&b[y]!==undefined;if(g&&y in w)continue;_=g?b[y]:e[y];w[y]=f&&typeof b[y]!="function"?e[y]:p&&g?a(_,r):v&&b[y]==_?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};n[u]=t[u];return n}(_):l&&typeof _=="function"?a(Function.call,_):_;if(l){(w.virtual||(w.virtual={}))[y]=_;if(t&c.R&&h&&!h[y])i(h,y,_)}}};c.F=1;c.G=2;c.S=4;c.P=8;c.B=16;c.W=32;c.U=64;c.R=128;t.exports=c},function(t,n,e){var r=e(29);t.exports=function(t,n,e){r(t);if(n===undefined)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){t.exports=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t}},function(t,n,e){var r=e(31);var o=e(36);t.exports=e(3)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){t[n]=e;return t}},function(t,n,e){var r=e(32);var o=e(33);var a=e(35);var i=Object.defineProperty;n.f=e(3)?Object.defineProperty:function t(n,e,u){r(n);e=a(e,true);r(u);if(o)try{return i(n,e,u)}catch(t){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");if("value"in u)n[e]=u.value;return n}},function(t,n,e){var r=e(2);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){t.exports=!e(3)&&!e(4)(function(){return Object.defineProperty(e(34)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,e){var r=e(2);var o=e(0).document;var a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,n,e){var r=e(2);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&typeof(e=t.toString)=="function"&&!r(o=e.call(t)))return o;if(typeof(e=t.valueOf)=="function"&&!r(o=e.call(t)))return o;if(!n&&typeof(e=t.toString)=="function"&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t,n){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:n}}},function(t,n){t.exports=window.jQuery},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.default=function(){var t=i().match(/\[cs_content.*?\[\/cs_content\]/gi);if(!window.YoastSEO||!t){return}window.YoastSEO.app.registerPlugin("csContent",{status:"loading"});window.YoastSEO.app.registerPlugin("csContentPre",{status:"ready"});window.YoastSEO.app.registerModification("content",r,"csContentPre");var n=t.map(function(t){return t.replace("[cs_content]",'[cs_content _p="'+window.csDashboardPostEditorData.post_id+'" no_wrap=true]')});o.default.ajax({data:{content:n},action:"cs_yoast_do_shortcode",_cs_nonce:window.csDashboardPostEditorData._cs_nonce,done:function t(n){var r=n.content;e=r;window.YoastSEO.app.pluginReady("csContent");window.YoastSEO.app.registerModification("content",a,"csContent",100)},fail:function t(n){console.warn("Unable to process content builder shortcodes for Yoast",n);window.YoastSEO.app.pluginReady("csContent")}});var e=[];function r(n){if(t){t.forEach(function(t,e){n=n.replace(t,"\x3c!--cs-content-yoast-"+e+"--\x3e")})}return n}function a(t){var n=t.match(/<!--cs-content-yoast-\d-->/gi);if(n){n.forEach(function(n){var r=parseInt(n.replace("\x3c!--cs-content-yoast-","").replace("--\x3e",""));if(!isNaN(r)&&undefined!==e[r]){t=t.replace(n,e[r])}})}return t}};var r=e(8);var o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function i(){var t=window.document.getElementById("content")&&window.document.getElementById("content").value||"";if(typeof window.tinyMCE!=="undefined"&&typeof window.tinyMCE.editors!=="undefined"&&window.tinyMCE.editors.length!==0){t=window.tinyMCE.get("content")&&window.tinyMCE.get("content").getContent()||""}return t}}]);
//# sourceMappingURL=dashboard-post-editor.js.map